Test input file for Hobyah, a 1D tunnel vent program.
March 2024
A file that verifies the calculation of stationary road traffic in a
single tunnel.  Three types of stationary traffic fill the tunnel end
to end: cars, Light Commercial Vehicles (LCVs) and Heavy Goods Vehicles
(HGVs).

Traffic is set by defining traffic types, defining a route (with counts
of lanes), then defining a "trafficsteady" block that puts traffic into
the route.  The program figures out which tunnels to put the traffic
in and what the density of the traffic is.  It does this based on the
traffic extents, traffic mix and the density of stationary traffic
(all set in the "trafficsteady" block and the count of lanes in the
tunnel (set in the route definition).  This may come across as
needlessly complex, but it makes it easy to define traffic in large road
tunnel networks (like Westconnex in Australia).

The traffic blockage correction is turned off in the calculation.

The result can be compared to the incompressible calculation in the
spreadsheet named "slug-flow-ok-039-traffic-verification.ods".

The spreadsheet calculates an air velocity of 4.525630 m/s.

The compressible calculation in Hobyah calculates air velocities
between 4.525234 m/s (at the inlet) and 4.525922 m/s (at the outlet).
The slight change in air speed over the length of the tunnel is due
to the change in air density along the length of the tunnel in the
compressible calculation.

The differences are -0.009% (at the inlet) and +0.006% (at the outlet).

We can conclude that they give the same answer, accounting for the
difference between compressible flow and incompressible flow.


begin settings
  version 1
  runtype calc
  frictiontype Fanning
  QA1 2
  QA2 Software testing
  QA3 Files that work and test different capabilities
  header underfoot
  aero_step 0.1
  aero_time 3000.
end settings

begin sectypes
  C+C1    103   55   -0.008
end sectypes

begin tunnel filled
  back  0   portal +20  C+C1
  fwd  200  portal -20
end tunnel

begin traffictypes
  calculate without blockage correction term
# keyword   name   area  C_d  PCU/veh
  vehicle   car    2.0   0.4     1
  vehicle   LCV    4.0   0.9     1
  vehicle   HGV    6.0   1.0     3  10  2  120  mass:= 22
end traffictypes

begin route eastbound
  origin -1
  portal 0
  begin tunnels
    filled
  end tunnels
  begin lanes
    # lane count     chainage it
    #   (> 0)      applies down to
          2           1400
  end lanes
end route

begin trafficsteady going-east
  routes  eastbound
    car     1600
    LCV      205
    HGV      291
  standstill  eastbound  165 PCU/lane-km  up_ptl  down_ptl
end trafficsteady

begin plots
  pagesize custom 11.3  6
  fontsize 10
  linewidth 1
  begin page # 1 # ignore
    begin graph
      title # Air velocity profile at the last timestep
      xlabel   Distance (m)
      ylabel   Air velocity (m/s)
      xrange  0  200  *200
      yrange  *4.5  *4.6  *200
      margins 0.15  0.95    0.2  0.95
      profile velocity  calc  eastbound@-1
    end graph
  end page
end plots
